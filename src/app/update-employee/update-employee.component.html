<!-- Content Header (Page header) -->
<section class="content-header">
  <h1>
    Update Employee
  </h1>
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
    <li><a href="#">Employees</a></li>
    <li class="active">Update Employee</li>
  </ol>
</section>
<!-- Main content -->
<section class="content">
  <div class="row">
    <div [hidden]="submitted" >
      <form (ngSubmit)="onSubmit()">
        <div class="col-md-6">
          <!-- general form elements -->
          <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">Personal Infos</h3>
            </div>
            <div class="box-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="name">CIN</label>
                    <input type="text" class="form-control" id="cin" required [(ngModel)]="employee.cin" name="cin" placeholder="CIN">
                  </div>
                  <div class="form-group">
                    <label for="name">First Name</label>
                    <input type="text" class="form-control" id="firstName" required [(ngModel)]="employee.firstName" name="firstName">
                  </div>
                  <div class="form-group">
                    <label for="name">Last Name</label>
                    <input type="text" class="form-control" id="lastName" required [(ngModel)]="employee.lastName" name="lastName" >
                  </div>
                  <!-- Date -->
                  <div class="form-group">
                    <label>date Naissance:</label>
                    <div class="input-group date">
                      <div class="input-group-addon">
                        <i class="fa fa-calendar"></i>
                      </div>
                      <input type="date" [(ngModel)]="employee.dateNaissance" id="dateNaissance" name="dateNaissance" class="form-control" required>
                    </div>
                    <!-- /.input group -->
                  </div>
                  <!-- /.form group -->
                
                <div class="form-group">
                  <label for="name">Email</label>
                  <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
                    <input type="email"  required [(ngModel)]="employee.emailId" class="form-control" id="emailId" name="emailId">
                  </div>
                </div>
                <div class="form-group">
                  <label for="name">Ville</label>
                  <input type="text" [(ngModel)]="employee.ville" class="form-control" id="Ville"  name="Ville"  required>
                 </div>
                
              </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label>Gender</label>
                    <select class="form-control" [(ngModel)]="employee.gendre" id="gendre" name="gendre"  style="width: 100%;" required>
                      <option value="Femme" *ngIf="employee.gendre=='Femme'" selected>Femme</option>
                      <option value="Homme"*ngIf="employee.gendre=='Homme'" selected>Homme</option>
                    </select>
                  </div>
                  

                  <div class="form-group">
                    <label>Etat</label>
                    <select class="form-control" id="etat" name="etat" [(ngModel)]="employee.etat" style="width: 100%;"required>
                      <option value ="C" *ngIf="employee.etat=='C'" selected>Célibataire</option>
                      <option value ="M0"  *ngIf="employee.etat=='M0'" selected>Marié, avec 0 Enfant</option>
                      <option value ="M1"  *ngIf="employee.etat=='M1'" selected>Marié, avec 1 Enfants</option>
                      <option value ="M2"  *ngIf="employee.etat=='M2'" selected>Marié, avec 2 Enfants</option>
                      <option value="M3"  *ngIf="employee.etat=='M3'" selected>Marié, avec 3 Enfants</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="name">Nationalite</label>
                    <div class="input-group">
                      <span class="input-group-addon"><i class="fa fa-user"></i></span>
                      <input type="text" class="form-control" id="Nationalite" required [(ngModel)]="employee.nationalite" name="Nationalite">
                    </div>
                  </div>
                  <div class="form-group">
                    <label>Phone:</label>
                    <div class="input-group">
                      <div class="input-group-addon"><i class="fa fa-phone"></i>
                      </div>
                      <input type="tel" id="tel" name="tel" class="form-control" required [(ngModel)]="employee.tel">
                    </div>
                    <!-- /.input group -->
                  </div>
                  <div class="form-group">
                    <label for="name">Address</label>
                    <textarea type="text" class="form-control" id="Adresse" row="4" required [(ngModel)]="employee.adresse" name="Adresse">
                      </textarea> 
                  </div>
                  
              
                </div>
              </div>
            </div>
            <div class="box-footer">
              
              <button type="reset" class="btn bg-olive pull-right">Reset</button>
            </div>
          </div>
        </div>
        <div class="col-md-6">
        <!-- general form elements -->
          <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">Professional Infos</h3>
            </div>
            <div class="box-body">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="name">Grade</label>
                    <select name="grade" class="form-control" id="grade" [(ngModel)]="employee.grade" style="width: 100%;">
                   
                      <option *ngFor="let grade of grades | async" [ngValue]="grade.lib_grade" >{{grade.lib_grade}}</option>
                    </select>
                  </div>
                  <!-- Date -->
                  <div class="form-group">
                    <label>date Embauche:</label>
                    <div class="input-group date">
                      <div class="input-group-addon">
                        <i class="fa fa-calendar"></i>
                      </div>
                      <input type="date" class="form-control" id="dateEmbauche" name="dateEmbauche" required [(ngModel)]="employee.dateEmbauche">
                    </div>
                    <!-- /.input group -->
                  </div>
                  <div class="form-group">
                    <label for="name">Salaire</label>
                    <div class="input-group">
                    <span class="input-group-addon">DH</span>
                    <input type="number" [(ngModel)]="employee.salaire" id="salaire" name="salaire"  class="form-control"  required>
                    <span class="input-group-addon">.00</span>
                  </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label for="name">Status</label>
                      <input type="text" class="form-control" id="Status" required [(ngModel)]="employee.status" name="Status">
                  </div>
                  <div class="form-group"><label for="name">SoldeConge</label>
                    <div class="input-group">
                      <input type="number" class="form-control" id="soldeConge" name="soldeConge" required [(ngModel)]="employee.soldeConge">
                      <span class="input-group-addon">Jours</span>
                    </div></div>
                  <div class="form-group">
                    <label>Fonction</label>{{emp.fonction.name}}
                    <select name="fonction" class="form-control" id="fonction" [(ngModel)]="employee.fonction" style="width: 100%;">
                      <option *ngFor="let fonction of fonctions | async" [ngValue]="fonction" >{{fonction.name}}</option>
                    </select>
                  </div>
                </div>  
                <div class="col-md-12">
                  <div class="form-group">
                    <label for="image">Image</label>
                    <div>
                      <img [src]="employee.image" width="50px" height="50px">
                      <input type="file" class="form-control" id="image" name="image" (change)="onFileChange($event)">
                    </div>
                  </div>
                  <div class="form-group">
                    <label>Service</label>
                    <select name="service" class="form-control" id="service" [(ngModel)]="employee.service"  style="width: 100%;">
                      <option *ngFor="let service of services | async" [ngValue]="service" >{{service.name}}</option>
                    </select>
                  </div>
                  <div class="box-footer">
                    <button type="submit" class="btn btn-lg bg-orange fa fa-plus "> Enregistrer les changements </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>  
  </div>
</section>
