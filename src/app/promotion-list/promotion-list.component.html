<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Promotion List
    </h1>
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
      <li><a href="#">Promotions</a></li>
      <li class="active">List</li>
    </ol>
  </section>
  <!-- Main content -->
  <section class="content">
    <div class="row">
      <div class="col-xs-12">
        <div class="box">
          <div class="box-header">
            <h3 class="box-title">Suivi des promotions</h3>
          </div>
          <!-- /.box-header -->
        <div class="box-body">
      <table id="example1" class="table table-bordered table-hover">
        <thead>
          <tr>
            <th>Employee Profil</th>
            <th>Type </th>
            <th>Motif</th>
            <th>date Debut</th>
            <th>date Fin</th>
            <th>date Creation</th>
            <th>Statut</th>
            <th>Approuvé</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody >
          <tr *ngFor="let promotion of promotions | async" >
            <td >
              <div class="col-md-4">
              <div class="box-body box-profile">
                <div class="img-circle">
                  <img  [src]="promotion.employee.image" class="img-circle" width="50px" height="50px" >
                </div>
              </div>
              </div><div class="col-md-8"><br>{{promotion.employee.lastName}} {{promotion.employee.firstName}}</div>
            </td>
            <td><br>{{promotion.type}}</td>
            <td><br>{{promotion.motif}}</td>
            <td><br>{{promotion.dateDebut | date :  "dd/MM/y hh:mm"}}</td>
            <td><br>{{promotion.dateFin | date :  "dd/MM/y hh:mm"}}</td>
            <td><br>{{ promotion.createdAt | date :  "dd/MM/y hh:mm" }}</td> 
            <td *ngIf="promotion.status=='demandé'"><br><span class="label label-warning" style="font-size: small;">{{promotion.status}}</span></td>
            <td *ngIf="promotion.status=='approuvé'"><br><span class="label label-info"  style="font-size: small;">{{promotion.status}}</span></td>
            <td *ngIf="promotion.status=='approuvé'"><br>
            
              <ui-switch [ngModel]="true" (ngModelChange)="manualUpdateEvent($event,promotion.id)"></ui-switch>
            
            </td>
            <td *ngIf="promotion.status=='demandé'" ><br>
            
              <ui-switch [ngModel]="false" (ngModelChange)="manualUpdateEvent($event,promotion.id)"></ui-switch>
            
            </td>
            <td><br>
                
                <button (click)="deletePromotion(promotion.id)" class="btn bg-maroon glyphicon glyphicon-trash" style="margin-left: 10px"></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <!-- /.box-body -->
  </div>
  <!-- /.box -->
  </div>
  <!-- /.col -->
  </div>
  <!-- /.row -->
  </section>
  
  